import{B as h,S as v}from"./Spinner.29f6e7a9.js";import{B}from"./BaseButton.3c58cd34.js";import{d as S,D as V,E as y,G as R,_ as P,r as i,o as k,c as L,f as e,t as b,j as I,a as n,w as l,b as u,k as c,v as m,p as T,e as x}from"./index.23bbb581.js";const d=V(),N=S({name:"AuthView",components:{BaseTextInput:h,BaseButton:B,Spinner:v},data:()=>({form:{password:"",confirmPassword:""},isLoading:!1,apiResponse:{message:"",token:""}}),computed:{disabledState(){return this.isLoading===!0},apiResponseMsg(){return this.apiResponse.message}},methods:{async requestPasswordReset(){this.isLoading=!0;const{password:s,confirmPassword:t}=this.form;try{const{data:o}=await y.post("/auth/set-new-password",{password:s.trim(),confirmPassword:t.trim()});console.log(JSON.stringify(o)),o.success?(d.success(o.message),setTimeout(()=>{this.$router.push({name:"login"})},200),R({key:"confirm-account-token",value:o.data.token})):d.error(o.message),this.apiResponseMsg=o.message,this.isLoading=!1;return}catch(o){this.isLoading=!1;const{data:r}=o.response;r.success||(this.apiResponseMsg=r.message,d.error(r.message))}},goBack(){this.$router.go(-1)}}});const f=s=>(T("data-v-e407ff12"),s=s(),x(),s),$={id:"password__reset__page"},C={class:"container"},M=f(()=>e("div",null,null,-1)),D=f(()=>e("div",{class:"title"},[e("h1",null,"Account Recovery"),e("p",{class:"sub__hero__text"}," Please provide your registered email address. ")],-1)),q={class:"error"},A={class:"goto__sign__up"};function z(s,t,o,r,E,U){const p=i("BaseTextInput"),_=i("Spinner"),w=i("BaseButton"),g=i("RouterLink");return k(),L("div",$,[e("div",C,[M,e("div",null,[D,e("small",q,b(s.apiResponseMsg),1),e("form",{action:"",method:"post",onSubmit:t[2]||(t[2]=I((...a)=>s.requestPasswordReset&&s.requestPasswordReset(...a),["prevent"]))},[n(p,{placeholder:"password",label:"password",modelValue:s.form.password,"onUpdate:modelValue":t[0]||(t[0]=a=>s.form.password=a),type:"text",class:"field"},null,8,["modelValue"]),n(p,{placeholder:"confirm password",label:"confirm password",modelValue:s.form.confirmPassword,"onUpdate:modelValue":t[1]||(t[1]=a=>s.form.confirmPassword=a),type:"text",class:"field"},null,8,["modelValue"]),n(w,{text:"",disabled:s.disabledState},{default:l(()=>[c(e("span",null,"Continue",512),[[m,!s.isLoading]]),c(n(_,{"animation-duration":1e3,size:30,color:"#ffffff"},null,512),[[m,s.isLoading]])]),_:1},8,["disabled"]),e("small",A,[u("Already have an account? "),n(g,{to:{name:"login"},class:"emphasis",style:{"font-size":"13px"}},{default:l(()=>[u("Login ")]),_:1})])],32)])])])}const O=P(N,[["render",z],["__scopeId","data-v-e407ff12"]]);export{O as default};
