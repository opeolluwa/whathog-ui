import{B as h,S as v}from"./Spinner.29f6e7a9.js";import{B}from"./BaseButton.3c58cd34.js";import{d as w,D as R,E as S,G as y,_ as V,r as a,o as k,c as L,f as o,t as b,j as I,a as n,w as d,b as l,k as p,v as u,p as T,e as x}from"./index.23bbb581.js";const r=R(),P=w({name:"AuthView",components:{BaseTextInput:h,BaseButton:B,Spinner:v},data:()=>({form:{email:""},isLoading:!1,apiResponse:{message:"",token:""}}),computed:{disabledState(){return this.isLoading===!0},apiResponseMsg(){return this.apiResponse.message}},methods:{async requestPasswordReset(){this.isLoading=!0;const{email:e}=this.form;try{const{data:s}=await S.post("/auth/request-password-reset",{email:e});console.log(JSON.stringify(s)),s.success?(r.success(s.message),setTimeout(()=>{this.$router.push({name:"confirm-reset-otp"})},200),y({key:"confirm-account-token",value:s.data.token})):r.error(s.message),this.apiResponseMsg=s.message,this.isLoading=!1;return}catch(s){this.isLoading=!1;const{data:t}=s.response;t.success||(this.apiResponseMsg=t.message,r.error(t.message))}},goBack(){this.$router.go(-1)}}});const c=e=>(T("data-v-33a7fd61"),e=e(),x(),e),$={id:"password__reset__page"},C={class:"container"},M=c(()=>o("div",null,null,-1)),q=c(()=>o("div",{class:"title"},[o("h1",null,"Account Recovery"),o("p",{class:"sub__hero__text"}," Please provide your registered email address. ")],-1)),D={class:"error"},N={class:"goto__sign__up"};function A(e,s,t,z,E,j){const m=a("BaseTextInput"),_=a("Spinner"),f=a("BaseButton"),g=a("RouterLink");return k(),L("div",$,[o("div",C,[M,o("div",null,[q,o("small",D,b(e.apiResponseMsg),1),o("form",{action:"",method:"post",onSubmit:s[1]||(s[1]=I((...i)=>e.requestPasswordReset&&e.requestPasswordReset(...i),["prevent"]))},[n(m,{placeholder:"example@mailer.com",label:"email",modelValue:e.form.email,"onUpdate:modelValue":s[0]||(s[0]=i=>e.form.email=i),type:"email",class:"field"},null,8,["modelValue"]),n(f,{text:"",disabled:e.disabledState},{default:d(()=>[p(o("span",null,"Continue",512),[[u,!e.isLoading]]),p(n(_,{"animation-duration":1e3,size:30,color:"#ffffff"},null,512),[[u,e.isLoading]])]),_:1},8,["disabled"]),o("small",N,[l("Already have an account? "),n(g,{to:{name:"login"},class:"emphasis",style:{"font-size":"13px"}},{default:d(()=>[l("Login ")]),_:1})])],32)])])])}const U=V(P,[["render",A],["__scopeId","data-v-33a7fd61"]]);export{U as default};
